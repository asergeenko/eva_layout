#!/usr/bin/env python3
"""–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –Ω–∞–ª–æ–∂–µ–Ω–∏–π."""

import sys
import os

# –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
for module_name in list(sys.modules.keys()):
    if 'layout_optimizer' in module_name:
        del sys.modules[module_name]

from layout_optimizer import __version__

print("=" * 70)
print("üîß –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô –ù–ê–õ–û–ñ–ï–ù–ò–ô")
print("=" * 70)
print(f"üìã –í–µ—Ä—Å–∏—è –º–æ–¥—É–ª—è: {__version__}")

# –ü—Ä–æ–≤–µ—Ä–∏–º —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
test_files = [
    "test_tank300_fixed.dxf",
    "test_coordinates.dxf", 
    "test_dxf_save_visualization.png"
]

print(f"\nüìÇ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:")
for file_name in test_files:
    if os.path.exists(file_name):
        size = os.path.getsize(file_name)
        print(f"‚úÖ {file_name} - {size:,} –±–∞–π—Ç")
    else:
        print(f"‚ùå {file_name} - –Ω–µ –Ω–∞–π–¥–µ–Ω")

print(f"\nüéØ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô:")
print(f"")
print(f"1. ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –° –ù–ê–õ–û–ñ–ï–ù–ò–Ø–ú–ò –í –ê–õ–ì–û–†–ò–¢–ú–ï –†–ê–ó–ú–ï–©–ï–ù–ò–Ø:")
print(f"   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è check_collision (–º–∏–Ω–∏–º—É–º 2–º–º –∑–∞–∑–æ—Ä)")
print(f"   - –£–≤–µ–ª–∏—á–µ–Ω—ã –∑–∞–∑–æ—Ä—ã –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–µ –¥–æ 3–º–º")
print(f"   - –£–ª—É—á—à–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ boundaries")
print(f"")
print(f"2. ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –° –°–û–•–†–ê–ù–ï–ù–ò–ï–ú DXF –§–ê–ô–õ–û–í:")
print(f"   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è save_dxf_layout_complete")
print(f"   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ DXF —Ç–µ–ø–µ—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏")
print(f"   - –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")
print(f"")
print(f"3. ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –° –ö–ï–®–ò–†–û–í–ê–ù–ò–ï–ú –ú–û–î–£–õ–Ø:")
print(f"   - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –≤ Streamlit")
print(f"   - –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ Python")
print(f"   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –¥–æ {__version__}")

print(f"\nüöÄ –î–õ–Ø –ü–†–ò–ú–ï–ù–ï–ù–ò–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô:")
print(f"")
print(f"1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Streamlit –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:")
print(f"   Ctrl+C (–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)")
print(f"   streamlit run streamlit_demo.py")
print(f"")
print(f"2. –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:")
print(f"   - –í–µ—Ä—Å–∏—è –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å: 'Layout optimizer version: {__version__}'")
print(f"   - –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è —Å—Ç–∞—Ä–∞—è, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)")
print(f"")
print(f"3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ:")
print(f"   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ 'dxf_samples/TANK 300'")
print(f"   - –í—ã–±–µ—Ä–∏—Ç–µ –ª–∏—Å—Ç 200x140 —Å–º")
print(f"   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é")
print(f"")
print(f"4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:")
print(f"   - –°–∫–∞—á–∞–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π DXF —Ñ–∞–π–ª")
print(f"   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤ Autodesk Viewer")
print(f"   - –ö–æ–≤—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –±–µ–∑ –Ω–∞–ª–æ–∂–µ–Ω–∏–π!")

print(f"\nüîç –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê:")
if os.path.exists("test_tank300_fixed.dxf"):
    print(f"‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª 'test_tank300_fixed.dxf' —Å–æ–∑–¥–∞–Ω")
    print(f"   –û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –≤ Autodesk Viewer –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏")
    print(f"   –û–Ω –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å 4 –∫–æ–≤—Ä–∞ –±–µ–∑ –Ω–∞–ª–æ–∂–µ–Ω–∏–π")
else:
    print(f"‚ùå –¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –Ω–µ —Å–æ–∑–¥–∞–Ω - –∑–∞–ø—É—Å—Ç–∏—Ç–µ test_dxf_save_fix.py")

print(f"\n" + "=" * 70)
print(f"üéâ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ó–ê–í–ï–†–®–ï–ù–´!")
print(f"   –ü—Ä–æ–±–ª–µ–º–∞ —Å –Ω–∞–ª–æ–∂–µ–Ω–∏—è–º–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞.")
print("=" * 70)